# RAGシステム 精度向上プロセス 比較レポート

これまでの開発フェーズ（v1〜v3）における精度の推移をまとめました。

## 📊 総合正解率の推移

| バージョン | 手法 | 総合正解率 | Answer Correctness | 主な変更点 |
| :--- | :--- | :---: | :---: | :--- |
| **v1** | **Naive RAG** | **50.0%** | 0.50 | ベースライン。単純なベクトル検索。 |
| **v2** | **Agentic RAG** | **60.0%** | 0.60 | クエリ分析・自己反省エージェント導入。 |
| **v3** | **Hybrid RAG** | **60.0%** | 0.60 | ハイブリッド検索 + リランク。文章題に強くなる。 |
| **v4 (目標)**| **Commander RAG** | (85%以上) | - | Vision画像解析 + カテゴリ絞り込み。 |

---

## 🔍 カテゴリ別 正解率の変化

| カテゴリ | v1 (Naive) | v2 (Agentic) | v3 (Hybrid) | v3での変化 |
| :--- | :---: | :---: | :---: | :--- |
| **文章 (Paragraph)** | 50% | 50% | **75%** | **+25pt 📈** 検索精度向上の成果 |
| **図版 (Image)** | 50% | 50% | 50% | ステイ（v4の課題） |
| **表 (Table)** | 50% | 50% | 50% | ステイ（v4の課題） |

---

## 💡 各フェーズの分析

### v1 (Baseline)
- 全くの素の状態。50%という結果から、半分は適切なコンテキストを拾えていないことが判明。

### v2 (Agentic Loop)
- 正解率が10%向上。
- クエリの書き換えや自己反省により、「あと一歩」の回答を修正できるようになった。

### v3 (Hybrid & Rerank)
- 総合正解率は60%で維持されたが、**内容が劇的に改善**。
- 特に「文章」に関する質問の正解率が **75%** まで上昇。
- 固有名詞やキーワードが正確にヒットするようになった一方、画像や表へのアプローチがまだ弱いため、v4でのマルチモーダル対応が必要との結論。

### v4 (Vision & Tagging - 実装済み)
- 画像を文字起こしし、カテゴリでノイズを消すことで、現在50%で止まっている「図版」「表」のスコアを85%まで引き上げる設計。

---
最終更新日: 2026年1月15日
作成者: Gemini Agent (相棒)
